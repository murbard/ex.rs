---
layout: post
title: "On Supply Caps"
author: arthurb
date: 2019-09-02 00:00:00 +0000
categories: tezos bitcoin
image: assets/images/excavator.jpg
featured: true
hidden: true
---

This blog post expands on a [popular Reddit comment](https://www.reddit.com/r/tezos/comments/csuz4z/max_supply/exhb1hg/?context=3) on the benefits and drawbacks of supply caps. This topic is particularly interesting as it touches upon many areas of crypto-economic design. It’s also an opportunity to highlight some of the benefits of binding on-chain governance and debunk popular economic fallacies.

A supply cap refers to a permanent limit on the number of units of a cryptocurrency (or coins) that can ever be created. Three areas of analysis are of interest: first, the enforcement of a supply cap, second, the economics of a cap and third, memetic considerations.


# Enforcement

One can take two polar views regarding the enforceability of a supply cap. At one end, one could hold that it is simply mathematically impossible to create more coins than allowed by the programmatic rules of a protocol: there can be no more than 21 million bitcoin because the protocol which defines Bitcoin says so, period. At the other end, one would hold that a cryptocurrency is, in fine, a social construct: a valid unit of currency is whatever is generally accepted as such, and the supply cap is but a mere promise, a cultural Schelling point nucleated around a piece of code. Section 1.1.2 of the 2014 [Tezos position paper](https://tezos.com/static/position_paper-841a0a56b573afb28da16f6650152fb4.pdf) specifically delves into that issue.

Pragmatically, the ability to state “if it has more than 21 million coins then, by definition, it’s not Bitcoin” is largely pointless if the rest of the world moves on and adopts a different ruleset. No matter how unappealing this prospect might be, the ultimate arbiter remains, undeniably, the social consensus. There is good news though, the hard, programmatic, rules do matter a great deal! Our point is merely that they only matter _insofar_ as they affect the social consensus. Changes in the rules governing the supply of a cryptocurrency must necessarily also happen at a code/protocol level before if they are to happen at all. Thus, the social dynamic of _how_ those rule-changes are perceived matters greatly to the enforceability of a supply cap. 


![Lego Batman and lego Superman](/assets/images/lego_batman_and_superman.jpg)*Honorable as it may be, vigilantism scales poorly as an enforcement strategy.*

As far as I can tell, the approach taken by the Bitcoin community is two-fold. First, there are strong cultural norms around the 21 million supply cap which has been deliberately tied to the identity of Bitcoin. Claiming “if it has more than 21 million coins it’s not Bitcoin anymore” might be futile _if_ the world has moved on, but the widespread acceptance of that definition is precisely what might prevent the world from moving on in the first place! A change in the rules of Bitcoin to introduce more than 21 million coins would run so contrary to its accepted nature that it is unlikely to garner enough support to win over the social consensus.

Second, strong norms also exist around protocol changes. Protocol changes, though they do happen in Bitcoin, are generally frowned upon. If they must happen, it is preferred that they happen in the form of a soft-fork, that is a _tightening_ of the rules. Since a violation (or modification, depending on one’s perspective) of Bitcoin’s supply cap would require a protocol change, norms around those changes provide the first line of defense against any such transgression. The soft-fork norm is particularly interesting. Since a soft-fork must represent a tightening of the rules, and since the creation of a bitcoin beyond the supply cap would violate the existing rules, it should follow that soft-forks cannot amend Bitcoin’s supply cap. This is quite remarkable given that soft-forks otherwise give considerable latitude to modify the Bitcoin protocol. The devil, as always, lies in the details. Several soft-forks have been described which would, functionally, be equivalent to violating Bitcoin’s supply cap. One such technique would involve the creation of extension blocks coupled with the migration of existing utxos to the prohibition to use the regular block. However, all of these techniques share one trait in common: they are convoluted. It is harder to gather enough momentum and social consensus around a convoluted, or unnatural looking change. By making supply cap increases convoluted, soft-forks illustrate one of the ways in which the protocol rules can interact with the social consensus.

Interestingly, lately, the protection many members of the Bitcoin community seem most likely to point out isn’t those norms, but the operating of full nodes. If a large fraction of Bitcoin users were to run their own node and use the output of that node to define what Bitcoin is, this indeed would provide an important level of protection. However, if this protection exists, it only exists through the effect of operating a node on social consensus, and not as a direct, mechanical, consequence of validating a ledger. It is not clear at all how influential private node operators are in setting the Schelling point defining Bitcoin.

Many understand this, and appeal to Nassim Taleb’s “[Dictatorship of the small minority](https://medium.com/incerto/the-most-intolerant-wins-the-dictatorship-of-the-small-minority-3f1f83ce4e15)” as underpinning the influence of hard-liners on the Schelling point because “the most intolerant minority wins”. Taleb’s piece does make a case for strategic intransigence, but it does not support the thesis that you can somehow use this rule to predict the outcome of a complex social dynamic! Quite the opposite, the piece makes the case that complex systems cannot be modeled analytically from the sum of their part. The minority rule is introduced to illustrate the point as one example of a non-linear dynamic. While social consensus might be positively affected by one uncompromising minority, it might also be affected by a complex and tangled web of influence, giving considerable steering power to those able to decipher and use those dynamics. On the balance, these non-linear effects should be _worrying_, not celebrated!

The purpose of on-chain governance is often misconstrued as an attempt to make protocol rules easier to change. Its strength actually resides in its ability to programmatically define which rules are immutable, and which can be changed under which conditions. On-chain governance permits the emergence of strong cultural norms around _the process_ of protocol change. The Bitcoin’s cultural norm for soft-forks over hard-forks represents such a policy, but it is only a cultural norm. In Tezos, this norm can be anchored upon _programmatic_ rules. For the sake of concreteness, a future Tezos protocol upgrade could enforce that every subsequent on-chain upgrade should take the form of a soft-fork. Similarly, a Tezos protocol upgrade could enforce that future upgrades do not alter an agreed-upon supply cap. Of course, ultimately, these rules are only relevant to the extent that the participants are willing to follow them. Once again, cultural norms and network effects are the ultimate enforcers, but this enforcement does not happen in a vacuum, it is guided by the rules of the protocol. 

Waxing poetics about the values of scarcity may be nice, but Tezos permits protocol level codification of invariants throughout protocol changes, and that’s a lot cooler. **If** supply caps are worth having, Tezos is uniquely positioned to enforce them through self-amendment introducing constitutional rules.


# Economics

When discussing supply caps, two economics considerations inevitably come about. One is the relevance of a supply cap to the function of a cryptocurrency as a store of value, the other is the provision of security on the network. I will start with the former, as this is where the misconceptions are often the most severe. One point I will not discuss is the macroeconomic impact of deflation which strikes me as a red herring. This is a discussion for another time.


## Supply caps and function as a store of value

A widespread fallacy is that there is something special about a supply cap that confers a cryptocurrency its value or makes it uniquely suitable as a store of value. To be sure, all else equal, dilutive inflation has a negative impact on the quality of a store of value, and we are not disputing that. However, some people are under the impression that the total supply that may ever be created is a meaningful metric and thus fall for the fallacy that a cryptocurrency faces a binary choice: a finite supply or an infinite supply. They are looking at the wrong metric. Unlike an investment asset like a stock or a bond, currencies and pure store of values do not derive their value from a claim on some creditors or on the profits of a business: they derive it from _convenience_. People hold money for a variety of reasons, but it is generally accepted that they do so in order to hold a liquid instrument that affords them the optionality to make future purchases with minimal transaction costs. If I have fish today and know I might want to buy meat at the end of the month, I’ll face the least amount of transaction cost by selling my fish for money, holding the money, and buying meat at the end of the month. Similarly, I could defer my consumption of fish today and use money as a savings instrument in order to buy a fishing boat at the end of the year. Cryptocurrencies may not be the most liquid instruments in the world, but they have unique characteristics in terms of how they can be held and regarding the conditions under which they can be spent. In a nutshell, they restore a great deal of sovereignty to their owners. Bitcoin or gold ownership, for instance, can be appealing because it may be harder for ill-intentioned people to seize it.


![Uncle Scrooge diving in a his vault of gold coins.](/assets/images/scrooge_gold.jpg)*Gold, unknown supply, inflated for millennia, still a decent store of value.*

Someone holding a cryptocurrency may thus derive value merely from holding it. Holding _is_ using. The value extracted from holding is generally referred to as a [convenience yield](https://en.wikipedia.org/wiki/Convenience_yield). The convenience yield explains why commodity futures can exhibit [backwardation](https://en.wikipedia.org/wiki/Normal_backwardation). Lo and behold, the Bitcoin futures market has indeed exhibited backwardation. In plain English, it means people are willing to pay for the privilege of holding a coin as opposed to holding an instrument that will deliver a coin to them in the future, showing that people derive value from merely holding that coin.

What does this have to do with supply caps? A lot actually! The existence of a [convenience yield](https://www.investopedia.com/terms/c/convenienceyield.asp) is why a cryptocurrency with an unlimited future supply can have a non-zero value. The relevant metric, from an economics point of view,T is not the total supply that will ever created, but the time discounted, convenience yield adjusted total supply, the “effective supply”. So long as the inflation rate is lower than the convenience yield and the time discount, the effective supply is **finite**. In simpler terms, over a period of time, whatever may be lost to inflation when holding a cryptocurrency can be offset by the convenience yield. 

If you are still unconvinced, consider a silly, yet informative example: suppose that after reaching a 21 million cap, Bitcoin had inset be set, at its inception, to inflate its supply by 1 satoshi a year. The total supply would now be unbounded. Would this have materially affected Bitcoin’s value proposition by a tiny bit, or would this have categorically changed it?

The convenience yield represents something everyone intuitively knows about money but tends to forget when adopting simplistic models: money is valuable because it is useful because it can be used to facilitate trade or savings. The present relevance of future shocks to the money supply decays exponentially the further in the future they are. Evidently, the massive uncertainty over the total supply of gold on earth did not stop it from being a good store of value and means of exchange for millennia. 

If the total supply isn’t relevant, what about that "stock-to-flow ratio"? This is already a better metric than total supply because it takes time into account, but it's far from the magic bullet some people think it is. The number of first edition VHS releases of Space Jam has an infinite stock to flow ratio, but that doesn't make it infinitely valuable. A high stock to flow ratio, alongside other desirable properties can help with the formation of a convenience yield, but it represents only one factor!

The possibility of non-dilutive inflation, as in Tezos, introduces another element. In addition to a convenience yield, the holding of a cryptocurrency can entitle a holder to receive block rewards. These too must be discounted when computing an effective supply. If the supply of tez increases by 5%, but the balance of all Tezos holders increases by the same amount at the same time, the inflation is neutral. The proof-of-stake mechanism in Tezos does not magically create real rewards out of thin air, it redistributes ownership from participants who fail to participate in securing the network to those who do. An effective supply metric should not only be adjusted for time value, and convenience yield, but also for rewards earned through staking/baking.

All else equal, the existence of dilutive inflation does diminish the value proposition of a cryptocurrency as a store of value, but it is incorrect to assume that the existence of a supply cap creates a categorically different situation. The presence of staking rewards, of a convenience yield, and of a time discount all contribute to the formation of a finite “effective supply”, which is the relevant metric.


## Security provision

If inflation is, _all else equal_, detrimental to a cryptocurrency’s appeal as a store of value, why have any at all? 

One of Bitcoin’s most important innovation was to use the creation of new coins as a pecuniary reward mechanism to incentivize honest participation in the protocol. While this approach does not preclude malicious coalitions of miners from forming, it at least gives us the assurance that non-colluding, profit-maximizing, miners with less than 51% of the hashing power will be incentivized to follow the rules of the protocol (modulo selfish mining and other quirks). Proof-of-stake based consensus, while different in nature, also relies on pecuniary incentives in order to reward participants who follow the protocol honestly and secure the chain. These rewards need to come from somewhere. In the case of proof-of-work, they come primarily from the issuance of new coins, diluting the supply. They are thus ultimately paid by the holders of the currency, and largely end up in the pocket of electricity producers. In a proof-of-stake system like Tezos, they come from the creation of new coins as well, but this creation is not dilutive since block creation rights are assigned roughly in proportion to coin holding.

In order to abide by its 21 million bitcoin limit, the design of Bitcoin assumes that, over time, the block reward can be replaced with the transaction costs paid by users to be included in a block. However, as explained in section 1.2.2 of the Tezos position paper, this creates a tragedy of the commons where users are encouraged to push their transactions off-chain and delay settlements so as not to be the one sucker paying the tab to provide security for the whole network. Paying for network security through inflation is incentives compatible, paying for it with transaction fees is not. 

Part of the impetus for Tezos was to address this issue. How can the security of a chain be ensured in the long run, while minimizing inflation? This inevitably leads to proof-of-stake. While new coins are created, the inflation involved is largely non-dilutive. The percentage of the supply owned by different parties shift depending on whether or not they participate in securing the chain. If everyone participates, there is, functionally, no real inflation. Another way to look at this is that the amount of dilutive inflation in the network should be roughly equivalent to the cost of running and securing the nodes which participate in the consensus. This is the lowest amount of inflation that can be achieved while securing the network.

The meme that proof-of-work equates “hard money” has been successful in no small part due to the mental image of mining involving expensive hardware. Large mining operations, hydroelectric dams, nuclear power plants: all of these evoke a certain sturdiness, making the cognitive leap to “hard money” easier. Others will suggest that “hard money” properties are conferred when the mining of coins is provably costly. However, the creation of new coins is only costly provided that the protocol is followed. If we grant that the protocol is indeed followed, then the creation of coin can be made infinitely cheap or expensive at will.

![alt_text](/assets/images/excavator.jpg "image_tooltip")*Hard. Money.*

The reality of the situation is that proof-of-stake is fundamentally less inflationary than proof-of-work. Because there is no external signal in the protocol that indicates who should receive newly minted coins, there is not a lot of room for dilutive inflation to take place. If the only form of identity on the network is stake, the path of least resistance is for inflation to be non-dilutive. In mining, coins can be issued to whoever solves a hash puzzle. In a proof-of-stake based consensus, the only available signal, ex-ante, is stake. This does not intend to be an airtight argument, some proof-of-stake designs involve elements other than stake. Block producers in EOS, for instance, compete in elections and use off-chain elements to market themselves. Rather, our argument is that the natural inclination of proof-of-stake based models is to tend towards non-dilutive inflation.

This is not without its drawbacks! Among several, it greatly complicates the matter of initial allocations for instance. However, when it comes to concerns about debasement, proof-of-stake seems clearly superior to proof-of-work as a Sybil prevention mechanism. The author’s interest in proof-of-stake is motivated _because_ he values “hard money”, i.e. money free from undue debasement. 

It should be clear by now that, to a large extent, non-dilutive inflation is economically no different from respecting a supply cap. The number of coins may increase, but no one needs to see their fraction meaningfully reduced. Another way to look at it is that, in both cases, there is a limit on the number of coins that can be mined. That limits just happens to be 0 for proof-of-stake, because there is no mining.

Despite all of the above, what if we were to on a supply cap? How could it be instantiated? Approaches fall into two categories: yolo, and demurrage.


### Yolo

The yolo strategy is to set a supply cap that won’t be reached for another decade or so, and pray that the standard economic arguments against the viability of using transaction fees to secure the networks are flawed, that someone will figure out how to secure decentralized networks without pecuniary incentives in the meantime, or that you’ll be able to say “Oops let’s forget about this whole cap thing” when the time comes. This is not a good strategy.


### Demurrage

The idea is to renormalize the supply so that the absolute number of coins remain bounded. Instead of rewarding participants for helping produce blocks, people who do not produce blocks are being punished by burning part of their stake. From a financial economics standpoint, this is equivalent to inflationary rewards, it is merely a change of numéraire. From a programming standpoint, it requires a bit more work. Instead of updating one balance after each block, it’s everyone else’s balance that needs to be updated. This can still be done reasonably efficiently using lazy programming techniques, where those balances are only computed retroactively, when they happen to be needed, but it does require quite a fair bit more work. There is a possibility that, in several jurisdictions, the tax treatment of a cryptocurrency relying on demurrage to pay for security may be more favorable than one relying on inflationary reward, even if the two are functionally equivalent. Cryptocurrencies exist in the real world, within a legal framework, and these considerations are not without importance.


# Memetic considerations


## Psychology

So far, we’ve examined the enforcement of supply caps in blockchain protocols, the economics of inflation for stores of value, and the topic of the provision of security as a public good for a cryptocurrency. From a financial-economics standpoint, we’ve established that there is nothing magic about supply caps, but we haven’t addressed an important topic: the psychology behind it. It is undeniable that Bitcoin’s supply cap has been a hallmark of its brand identity and memetic power. The concept of “only 21 million Bitcoin ever” is immediately understandable. The meme that “not even every millionaire can ever own a whole bitcoin” sounds extremely compelling and easy to grasp. The concept of “convenience yield adjusted, time discounted, rewards adjusted effective supply” is not, and will likely never be. Economic fallacies are extremely hard to uproot, and there is something to be said about going with the flow in order to facilitate the understanding and adoption of a cryptocurrency. To tamper this a little bit, while those who are into the supply cap meme may never be convinced by arguments regarding convenience yields, the vast majority of people simply do not care about any of this one way or another. They are likely to rely on pragmatic observations and, in so doing, are in fact less likely to fool themselves with appealing yet fallacious theories. As mentioned before, gold did very well for millennia with all of the uncertainty inherent in the discovery of mining resources.

While there may be psychological and memetic benefits to a supply cap, if one is to take security provision seriously, this leaves us with only one option: demurrage. And there, the psychology flips. Even though a demurrage based cryptocurrency is functionally equivalent to one that relies on inflationary block rewards, loss aversion is a real thing and the former is likely to elicit a lot more negative reactions than the latter. 


## What does this mean for Tezos?

There are currently two ways in which coins can be created in Tezos. One is through the inflationary block and endorsement rewards (as well as the more minor seed reveals), the other is through invoices attached to protocol upgrades. The possibility of inflation based funding of protocol upgrade sounds important enough that it should not be jeopardized but, push comes to shove, it intuitively seems like it should be possible to set a reasonable lifetime cap on that amount without handicapping the project.

Addressing inflationary block rewards in a responsible manner requires implementing a form of demurrage to ensure participation in the consensus. It’s not at all clear whether the memetic benefits of a supply cap are worth the memetic cost of demurrage. Tax matters seem potentially more relevant to the question.

An interesting step forward would be to introduce special governance rules around supply management, an idea I suggested last year in “[A few directions to improve Tezos](/a-few-directions-to-improve-tezos)”. Given the conservative parameters around governance, the point is largely memetic. It’s better for the Tezos community to flex its meta-governance muscle by showing a concrete implementation of a constitutional rule than to write theoretical paragraphs about norms and the enforcement of protocol rules.
